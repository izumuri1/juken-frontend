// src/styles/_variables.scss
// どうする中学受験？ プロジェクトのスタイル変数とmixinを定義
// 認証画面（Login, SignUp, PasswordReset）用に特化
// セマンティック変数 + 二層構造で設計

@use "sass:color";

//////////////////////////////////////////////////////////////
/// 【プリミティブ変数】基本的な色の定義
/// 直接使用せず、セマンティック変数で参照する
//////////////////////////////////////////////////////////////

// カラーパレット
$color-yellow:        #F4C14E; // メインイエロー
$color-black:         #000000; // 黒
$color-white:         #FFFFFF; // 白
$color-gray-lighter:  #f9fafb; // 最も薄いグレー
$color-gray-light:    #e5e7eb; // 薄いグレー
$color-gray-medium:   #6b7280; // ミディアムグレー
$color-gray-dark:     #6A6A6A; // ダークグレー
$color-gray-darker:   #4b5563; // より暗いグレー
$color-gray-secondary: #828282; // セカンダリ用グレー

// ステータスカラー
$color-error-light:   #fef2f2; // エラー背景
$color-error:         #dc2626; // エラー
$color-error-dark:    #b91c1c; // エラー（ホバー）
$color-error-border:  #fecaca; // エラー枠線
$color-success-light: #f0fdf4; // 成功背景
$color-success:       #059669; // 成功
$color-success-border: #bbf7d0; // 成功枠線
$color-warning:       #d97706; // 警告

// アクセントカラー
$color-blue:          #3b82f6; // アクセント青
$color-blue-light:    #dbeafe; // アクセント青（薄）
$color-blue-info:     #5fbde5; // 情報ボタン用の明るい青色
$color-green-target:  #97C5B0; // 志望校情報ボタン用の緑色（新規追加）
$color-orange-exam:   #c95a50; // 受験ボタン用のオレンジレッド
$color-orange:        #D97757; // アクセントオレンジ

//////////////////////////////////////////////////////////////
/// 【セマンティック変数】用途別の色定義
/// コンポーネントごとに明確に分離
//////////////////////////////////////////////////////////////

// 認証画面全体
$auth-bg-color:                $color-yellow;      // 画面背景色

// 認証カード
$auth-card-bg:                 $color-yellow;      // カード背景色
$auth-card-shadow:             0 4px 6px rgba(0, 0, 0, 0.1); // カードシャドウ

// テキスト（認証画面用）
$auth-text-heading:            $color-black;       // 見出し（ロゴ、サブタイトル）
$auth-text-body:               $color-gray-dark;   // 本文（説明文）
$auth-text-label:              $color-black;       // フォームラベル
$auth-text-placeholder:        $color-gray-medium; // プレースホルダー

// ボタン（認証画面用）
$auth-button-primary-bg:       $color-black;       // プライマリボタン背景
$auth-button-primary-text:     $color-white;       // プライマリボタンテキスト
$auth-button-primary-hover:    #1a1a1a;            // プライマリボタンホバー
$auth-button-secondary-bg:     $color-gray-secondary; // セカンダリボタン背景
$auth-button-secondary-text:   $color-black;       // セカンダリボタンテキスト
$auth-button-link-text:        $color-black;       // リンクボタンテキスト
$auth-button-disabled-opacity: 0.6;                // 無効化時の透明度

// フォーム（認証画面用）
$auth-input-bg:                $color-white;       // 入力欄背景
$auth-input-text:              $color-black;       // 入力テキスト
$auth-input-border:            $color-gray-light;  // 入力欄ボーダー
$auth-input-border-focus:      $color-black;       // フォーカス時ボーダー
$auth-input-disabled-bg:       $color-gray-lighter; // 無効化背景
$auth-input-disabled-text:     $color-gray-medium; // 無効化テキスト

// メッセージ（認証画面用）
$auth-error-bg:                $color-error-light;   // エラーメッセージ背景
$auth-error-text:              $color-error;         // エラーメッセージテキスト
$auth-error-border:            $color-error-border;  // エラーメッセージボーダー
$auth-success-bg:              $color-success-light; // 成功メッセージ背景
$auth-success-text:            $color-success;       // 成功メッセージテキスト
$auth-success-border:          $color-success-border; // 成功メッセージボーダー

//////////////////////////////////////////////////////////////
/// 【セマンティック変数】Home画面用
//////////////////////////////////////////////////////////////

// Home画面全体
$home-bg-color:                $color-yellow;        // 画面背景色（黄色に統一）
$home-header-bg:               $color-yellow;        // ヘッダー背景色
$home-header-text:             $color-black;         // ヘッダーテキスト

// Home画面カード
$home-card-bg:                 $color-white;         // カード背景色
$home-card-border:             $color-gray-light;    // カードボーダー
$home-card-shadow:             0 2px 4px rgba(0, 0, 0, 0.1); // カードシャドウ
$home-card-hover-shadow:       0 4px 8px rgba(0, 0, 0, 0.15); // カードホバーシャドウ

// Home画面テキスト
$home-text-heading:            $color-black;         // 見出し
$home-text-body:               $color-gray-dark;     // 本文
$home-text-label:              $color-black;         // ラベル
$home-text-muted:              $color-gray-medium;   // 補足テキスト

// Home画面検索
$home-search-input-bg:         $color-white;         // 検索入力欄背景
$home-search-input-border:     $color-gray-light;    // 検索入力欄ボーダー
$home-search-button-bg:        $color-black;         // 検索ボタン背景
$home-search-button-text:      $color-white;         // 検索ボタンテキスト

// Home画面ボタン
$home-button-action-bg:        $color-black;         // アクションボタン背景
$home-button-action-text:      $color-white;         // アクションボタンテキスト
$home-button-info-bg:          $color-blue-info;     // 情報ボタン背景
$home-button-info-text:        $color-white;         // 情報ボタンテキスト
$home-button-target-bg:        $color-green-target;  // 志望校情報ボタン背景（新規追加）
$home-button-target-text:      $color-white;         // 志望校情報ボタンテキスト（新規追加）
$home-button-exam-bg:          $color-orange-exam;   // 受験ボタン背景
$home-button-exam-text:        $color-white;         // 受験ボタンテキスト

// Home画面バッジ
$home-badge-high-bg:           #fee2e2;              // 高志望度バッジ背景
$home-badge-high-text:         #991b1b;              // 高志望度バッジテキスト
$home-badge-medium-bg:         #fef3c7;              // 中志望度バッジ背景
$home-badge-medium-text:       #92400e;              // 中志望度バッジテキスト
$home-badge-low-bg:            $color-gray-lighter;  // 低志望度バッジ背景
$home-badge-low-text:          $color-gray-darker;   // 低志望度バッジテキスト

//////////////////////////////////////////////////////////////
/// 【基本変数】フォント設定（スマホ最適化）
//////////////////////////////////////////////////////////////

// フォントファミリー
$font-family-base:        'Noto Sans JP', sans-serif;

// フォントサイズ (rem単位で統一)
$font-size-logo:          1.75rem;  // ロゴ (28px)
$font-size-title:         1.25rem;  // タイトル (20px)
$font-size-subtitle:      1rem;     // サブタイトル (16px) - ズーム防止
$font-size-body:          0.875rem; // 本文 (14px)
$font-size-button:        1rem;     // ボタン (16px) - ズーム防止
$font-size-small:         0.8rem;   // 小さなテキスト (12.8px)

// フォントウェイト
$font-weight-normal:      400;
$font-weight-medium:      500;
$font-weight-bold:        700;
$font-weight-black:       900;

//////////////////////////////////////////////////////////////
/// 【基本変数】レイアウト設定（スマホ特化）
//////////////////////////////////////////////////////////////

// スペーシング
$spacing-mobile:          1rem;     // 基本スペーシング
$spacing-small:           0.5rem;   // 小
$spacing-large:           1.5rem;   // 大
$spacing-xlarge:          2rem;     // 特大

// カードサイズ
$card-padding:            1rem;
$card-max-width:          400px;

// 角丸
$radius-card:             12px;
$radius-input:            8px;
$radius-button:           8px;
$radius-message:          8px;

// タッチ対応
$touch-target-min:        44px;     // 最小タッチ領域（Appleガイドライン）

// シャドウ
$shadow-card:             0 4px 6px rgba(0, 0, 0, 0.1);
$shadow-button:           0 2px 4px rgba(0, 0, 0, 0.1);
$shadow-hover:            0 8px 25px rgba(0, 0, 0, 0.15);

//////////////////////////////////////////////////////////////
/// 【基本変数】アニメーション設定
//////////////////////////////////////////////////////////////

$animation-fast:          0.15s;
$animation-normal:        0.3s;
$animation-slow:          0.6s;
$ease-out:                ease-out;
$ease-in-out:             ease-in-out;

//////////////////////////////////////////////////////////////
/// 【共通Mixins】ボタンスタイル
//////////////////////////////////////////////////////////////

@mixin button-base {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: none;
  border-radius: $radius-button;
  cursor: pointer;
  padding: 0.75rem 1rem;
  min-height: $touch-target-min;
  transition: all $animation-fast $ease-out;
  font-family: $font-family-base;
  font-size: $font-size-button;
  font-weight: $font-weight-medium;
  text-decoration: none;
  
  // タッチ対応
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
  
  &:active { transform: scale(0.98); }
  &:disabled { 
    cursor: not-allowed; 
    opacity: $auth-button-disabled-opacity;
    transform: none;
  }
}

@mixin button-primary {
  @include button-base;
  color: $auth-button-primary-text;
  background-color: $auth-button-primary-bg;
  width: 100%;
  
  &:hover:not(:disabled) { 
    background-color: $auth-button-primary-hover;
  }
}

@mixin button-secondary {
  @include button-base;
  color: $auth-button-secondary-text;
  background-color: $auth-button-secondary-bg;
  width: 100%;
  
  &:hover:not(:disabled) { 
    opacity: 0.8;
  }
}

@mixin button-link {
  background: none;
  border: none;
  color: $auth-button-link-text;
  text-decoration: underline;
  cursor: pointer;
  padding: 0 0.25rem;
  font-size: $font-size-body;
  font-family: $font-family-base;
  
  &:hover { opacity: 0.7; }
}

//////////////////////////////////////////////////////////////
/// 【共通Mixins】テキストスタイル
//////////////////////////////////////////////////////////////

@mixin text-logo {
  font-family: $font-family-base;
  font-size: $font-size-logo;
  font-weight: $font-weight-black;
  color: $auth-text-heading;
  margin: 0;
  line-height: 1.2;
}

@mixin text-subtitle {
  font-family: $font-family-base;
  font-size: $font-size-subtitle;
  font-weight: $font-weight-medium;
  color: $auth-text-heading;
  margin: 0;
  line-height: 1.4;
}

@mixin text-body {
  font-family: $font-family-base;
  font-size: $font-size-body;
  font-weight: $font-weight-normal;
  color: $auth-text-body;
  line-height: 1.6;
  margin: 0;
}

@mixin text-small {
  font-family: $font-family-base;
  font-size: $font-size-small;
  font-weight: $font-weight-normal;
  color: $auth-text-placeholder;
  line-height: 1.4;
}

//////////////////////////////////////////////////////////////
/// 【共通Mixins】フォーム関連
//////////////////////////////////////////////////////////////

@mixin input-base {
  width: 100%;
  padding: 0.75rem;
  border: 1px solid $auth-input-border;
  border-radius: $radius-input;
  font-family: $font-family-base;
  font-size: $font-size-subtitle; // ズーム防止のため16px
  background-color: $auth-input-bg;
  color: $auth-input-text;
  
  // スマホ最適化
  -webkit-appearance: none;
  touch-action: manipulation;
  min-height: $touch-target-min;
  
  &::placeholder { 
    color: $auth-text-placeholder;
    opacity: 1;
  }
  
  &:focus { 
    outline: none;
    border-color: $auth-input-border-focus;
    box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);
  }
  
  &:disabled { 
    background-color: $auth-input-disabled-bg;
    color: $auth-input-disabled-text;
    cursor: not-allowed;
  }
}

@mixin form-group {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  width: 100%;
  
  label {
    font-family: $font-family-base;
    font-size: $font-size-body;
    font-weight: $font-weight-medium;
    color: $auth-text-label;
    margin-bottom: 0.25rem;
    text-align: left;
  }
  
  input, textarea, select { 
    @include input-base;
  }
  
  .form-error {
    @include text-small;
    color: $auth-error-text;
    margin: 0.25rem 0 0 0;
  }
}

//////////////////////////////////////////////////////////////
/// 【共通Mixins】メッセージ表示
//////////////////////////////////////////////////////////////

@mixin message-base {
  border-radius: $radius-message;
  padding: $spacing-mobile;
  margin: 0;
  font-size: $font-size-body;
  font-weight: $font-weight-medium;
  text-align: center;
  line-height: 1.5;
}

@mixin message-error {
  @include message-base;
  background-color: $auth-error-bg;
  color: $auth-error-text;
  border: 1px solid $auth-error-border;
  animation: errorSlideIn $animation-normal $ease-out;
}

@mixin message-success {
  @include message-base;
  background-color: $auth-success-bg;
  color: $auth-success-text;
  border: 1px solid $auth-success-border;
}

//////////////////////////////////////////////////////////////
/// 【共通Mixins】レイアウト（認証画面用）
//////////////////////////////////////////////////////////////

@mixin auth-fullscreen-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: $auth-bg-color;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow-y: auto;
  
  // セーフエリア対応
  padding-top: max($spacing-mobile, env(safe-area-inset-top));
  padding-bottom: max($spacing-mobile, env(safe-area-inset-bottom));
  padding-left: max($spacing-mobile, env(safe-area-inset-left));
  padding-right: max($spacing-mobile, env(safe-area-inset-right));
  
  // スマホ最適化
  -webkit-overflow-scrolling: touch;
}

@mixin auth-card {
  background: $auth-card-bg;
  border-radius: $radius-card;
  box-shadow: $auth-card-shadow;
  padding: $spacing-large;
  width: 100%;
  max-width: $card-max-width;
  text-align: center;
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  
  // 縦画面での中央配置調整
  justify-content: flex-start;
  
  // スマホ向け：余白を小さく
  @media (max-width: 600px) {
    padding-top: $spacing-mobile;
    padding-bottom: $spacing-mobile;
    margin-top: 0.5rem;
    margin-bottom: 3rem;
  }
  
  // PC向け：余白を大きく
  @media (min-width: 601px) {
    padding-top: $spacing-xlarge;
    padding-bottom: $spacing-xlarge;
    margin-top: 2rem;
    margin-bottom: 10rem;
  }
}

//////////////////////////////////////////////////////////////
/// 【認証画面専用Mixins】統一レイアウトコンポーネント
//////////////////////////////////////////////////////////////

// 認証画面コンテナ
@mixin auth-container {
  @include auth-fullscreen-container;
}

// 認証カード（ロゴ・タイトル含む）
@mixin auth-card-container {
  @include auth-card;
  
  .logo {
    @include text-logo;
    animation: logoFadeIn $animation-slow $ease-out;
  }

  .subtitle {
    @include text-subtitle;
    animation: fadeInUp 0.8s $ease-out 0.2s both;
  }

  .introduction {
    @include text-body;
    animation: fadeInUp 0.8s $ease-out 0.4s both;
  }
}

// 認証フォーム
@mixin auth-form {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  width: 100%;
  animation: fadeInUp 0.8s $ease-out 0.6s both;

  .form-group {
    @include form-group;
  }

  .btn-primary {
    @include button-primary;
  }

  .btn-secondary {
    @include button-secondary;
  }
}

// 画面切り替えリンク
@mixin auth-switch {
  font-size: $font-size-body;
  color: $auth-text-heading;
  margin: 0;
  line-height: 1.5;

  .link-button {
    @include button-link;
  }
}

// エラーメッセージ（認証画面用）
@mixin auth-error-message {
  @include message-error;
}

// 成功メッセージ（認証画面用）
@mixin auth-success-message {
  @include message-success;
}

//////////////////////////////////////////////////////////////
/// 【アニメーション定義】キーフレーム
//////////////////////////////////////////////////////////////

@keyframes logoFadeIn {
  0% { opacity: 0; transform: scale(0.8); }
  100% { opacity: 1; transform: scale(1); }
}

@keyframes fadeInUp {
  0% { opacity: 0; transform: translateY(20px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes errorSlideIn {
  0% { opacity: 0; transform: translateY(-10px); }
  100% { opacity: 1; transform: translateY(0); }
}

//////////////////////////////////////////////////////////////
/// 【Home画面専用Mixins】統一レイアウトコンポーネント
//////////////////////////////////////////////////////////////

// Home画面コンテナ
@mixin home-container {
  min-height: 100vh;
  background-color: $home-bg-color;
  display: flex;
  flex-direction: column;
  padding-top: max($spacing-mobile, env(safe-area-inset-top));
  padding-bottom: max(calc($spacing-mobile + 2rem), env(safe-area-inset-bottom));
}

// Home画面ヘッダー
@mixin home-header {
  background-color: $home-header-bg;
  padding: $spacing-mobile;
  display: flex;
  align-items: center;
  justify-content: space-between;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: sticky;
  top: 0;
  z-index: 100;

  .hamburger-menu {
    background: none;
    border: none;
    cursor: pointer;
    padding: 0;
    margin-left: -0.5rem;
    width: 80px;         // ← 40pxから80pxに変更
    height: 80px;        // ← 40pxから80pxに変更
    display: flex;
    align-items: center;
    justify-content: center;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
    
    .hamburger-icon {
      font-size: 3rem;   // ← 1.5remから3remに変更
      color: $home-header-text;
    }
    
    &:active {
      opacity: 0.7;
    }
  }

  .workspace-info {
    flex: 1;
    text-align: center;

    .workspace-name {
      font-size: $font-size-logo;
      font-weight: $font-weight-bold;
      color: $home-header-text;
      margin: 0;
    }

    .workspace-owner {
      font-size: $font-size-title;
      color: $home-text-muted;
      margin: 0;
    }
  }
}

// Home画面セクション
@mixin home-section {
  padding: $spacing-large $spacing-mobile;
  max-width: $card-max-width;  // ← 追加：認証画面と同じ横幅制限（400px）
  margin: 0 auto;               // ← 追加:中央揃え
  width: 100%;                  // ← 追加：幅の基準を100%に設定

  .section-title {
    font-size: $font-size-title;
    font-weight: $font-weight-bold;
    color: $home-text-heading;
    margin-bottom: $spacing-mobile;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .section-content {
    display: flex;
    flex-direction: column;
    gap: $spacing-mobile;
  }
}

// Home画面カード
@mixin home-card {
  background-color: $home-card-bg;
  border: 1px solid $home-card-border;
  border-radius: $radius-card;
  padding: $spacing-mobile;
  box-shadow: $home-card-shadow;
  transition: all $animation-normal $ease-out;

  &:hover {
    box-shadow: $home-card-hover-shadow;
    transform: translateY(-2px);
  }

  .card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: $spacing-small;

    .school-name {
      font-size: $font-size-subtitle;
      font-weight: $font-weight-bold;
      color: $home-text-heading;
      margin: 0;
    }
  }

  .card-body {
    display: flex;
    flex-direction: column;
    gap: $spacing-small;

    .card-info-row {
      display: flex;
      justify-content: space-between;
      font-size: $font-size-body;

      .label {
        color: $home-text-muted;
      }

      .value {
        color: $home-text-body;
        font-weight: $font-weight-medium;
      }
    }
  }

  .card-actions {
    display: flex;
    gap: $spacing-small;
    margin-top: $spacing-mobile;
    padding-top: $spacing-mobile;       // ← 追加
    border-top: 1px solid $home-card-border;  // ← 追加
  }
}

// Home画面検索フォーム
@mixin home-search-form {
  display: flex;
  gap: $spacing-small;
  width: 100%;

  .search-input {
    flex: 1;
    padding: 0.75rem;
    border: 1px solid $home-search-input-border;
    border-radius: $radius-input;
    font-size: $font-size-subtitle;
    background-color: $home-search-input-bg;
    -webkit-appearance: none;
    touch-action: manipulation;

    &:focus {
      outline: none;
      border-color: $color-black;
      box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);
    }
  }

  .search-button {
    @include button-primary;
    min-width: 80px;
    padding: 0.75rem $spacing-mobile;
  }
}

// Home画面ボタン（小）
@mixin home-button-small {
  padding: 0.5rem $spacing-mobile;
  border-radius: $radius-button;
  font-size: $font-size-small;
  font-weight: $font-weight-medium;
  font-family: $font-family-base;
  border: none;
  cursor: pointer;
  transition: all $animation-fast $ease-out;
  -webkit-appearance: none;
  touch-action: manipulation;
  min-height: 36px;
  text-align: center;
  text-decoration: none;
  display: inline-block;

  &:active {
    transform: scale(0.98);
  }
}

@mixin home-button-info {
  @include home-button-small;
  background-color: $home-button-info-bg;
  color: $home-button-info-text;

  &:hover {
    background-color: color.adjust($home-button-info-bg, $lightness: -10%);
  }
}

@mixin home-button-target {
  background-color: $home-button-target-bg;
  color: $home-button-target-text;
  border: none;
  border-radius: $radius-button;
  padding: $spacing-small $spacing-mobile;
  font-size: $font-size-body;
  font-weight: $font-weight-medium;
  cursor: pointer;
  transition: all 0.2s ease;
  
  &:hover:not(:disabled) {
    opacity: 0.9;
  }
  
  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
}

@mixin home-button-exam {
  @include home-button-small;
  background-color: $home-button-exam-bg;
  color: $home-button-exam-text;

  &:hover {
    background-color: color.adjust($home-button-exam-bg, $lightness: -10%);
  }
}

// Home画面バッジ
@mixin home-badge {
  padding: 0.25rem 0.5rem;
  border-radius: 9999px;
  font-size: $font-size-small;
  font-weight: $font-weight-medium;
  display: inline-block;
}

@mixin home-badge-high {
  @include home-badge;
  background-color: $home-badge-high-bg;
  color: $home-badge-high-text;
}

@mixin home-badge-medium {
  @include home-badge;
  background-color: $home-badge-medium-bg;
  color: $home-badge-medium-text;
}

@mixin home-badge-low {
  @include home-badge;
  background-color: $home-badge-low-bg;
  color: $home-badge-low-text;
}

//////////////////////////////////////////////////////////////
/// 【ローディング関連Mixins】
//////////////////////////////////////////////////////////////

// ローディングコンテナ（画面全体）
@mixin loading-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: $auth-bg-color;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 2rem;
  padding: $spacing-mobile;
  overflow: hidden;
  touch-action: none;
  
  // セーフエリア対応
  padding-top: max($spacing-mobile, env(safe-area-inset-top));
  padding-bottom: max(calc($spacing-mobile + 2rem), env(safe-area-inset-bottom));
  padding-left: max($spacing-mobile, env(safe-area-inset-left));
  padding-right: max($spacing-mobile, env(safe-area-inset-right));
}

// ローディングスピナー（サイズ指定可能）
@mixin loading-spinner($size: 60px) {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: $size;
  height: $size;
  
  &::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    border: 4px solid $auth-input-border;
    border-top: 4px solid $auth-button-primary-bg;
    border-radius: 50%;
    animation: spinMain 1.2s linear infinite;
    will-change: transform;
    transform: translateZ(0);
  }
  
  &::after {
    content: '';
    position: absolute;
    width: 70%;
    height: 70%;
    background-color: $auth-button-primary-bg;
    border-radius: 50%;
    animation: pulse 1.5s ease-in-out infinite;
    opacity: 0.3;
    will-change: transform, opacity;
    transform: translateZ(0);
  }
}

// ローディングテキスト
@mixin loading-text {
  font-family: $font-family-base;
  font-size: $font-size-subtitle;
  font-weight: $font-weight-medium;
  color: $auth-button-primary-bg;
  text-align: center;
  line-height: 1.6;
  margin: 0;
  animation: fadeInUp 0.8s $ease-out 0.3s both;
}

//////////////////////////////////////////////////////////////
/// 【ローディング用アニメーション】
//////////////////////////////////////////////////////////////

@keyframes spinMain {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes pulse {
  0%, 100% { transform: scale(0.8); opacity: 0.3; }
  50% { transform: scale(1.2); opacity: 0.1; }
}

// 追加する場所: ファイルの最後（他のHome画面用mixinの後）

//////////////////////////////////////////////////////////////
/// 【共通Mixins】サイドメニュー
//////////////////////////////////////////////////////////////

// サイドメニュー本体用のmixin
@mixin side-menu-panel {
  position: fixed;
  top: 0;
  left: 0;
  width: 280px;
  height: 100vh;
  background-color: rgba(255, 255, 255, 0.8);  // ← 半透明の白に変更
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.2);
  padding: $spacing-large;
  overflow-y: auto;
  animation: slideInLeft 0.3s ease-out;
  
  .close-button {
    position: absolute;
    top: $spacing-mobile;
    right: $spacing-mobile;
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    
    &:active {
      opacity: 0.7;
    }
  }
  
  ul {
    list-style: none;
    padding: 0;
    margin: 2rem 0 0 0;
    
    li {
      margin-bottom: 0.5rem;
      
      &.divider {
        height: 1px;
        background-color: $home-card-border;
        margin: $spacing-mobile 0;
      }
      
      a, button {
        display: block;
        padding: 0.75rem $spacing-mobile;
        color: $home-text-heading;
        text-decoration: none;
        font-size: $font-size-body;
        border-radius: $radius-button;
        transition: background-color $animation-fast $ease-out;
        background: none;
        border: none;
        width: 100%;
        text-align: left;
        cursor: pointer;
        
        &:hover {
          background-color: $color-gray-lighter;
        }
        
        &:active {
          background-color: $color-gray-light;
        }
      }
    }
  }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideInLeft {
  from { 
    transform: translateX(-100%);
  }
  to { 
    transform: translateX(0);
  }
}